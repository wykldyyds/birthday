<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ•ˆæœ</title>
<style>
  body {
    background: linear-gradient(to bottom, #3cb93c, #00ff00); /* æ·±ç»¿åˆ°æµ…ç»¿æ¸å˜è‰²çš„èƒŒæ™¯ */
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    position: relative;
    perspective: 1000px; /* æ·»åŠ é€è§†æ•ˆæœï¼Œå¢å¼ºç«‹ä½“æ„Ÿ */
  }

  .heart {
    position: relative;
    font-size: 200px;
    color: #ff3366;
    animation: heartbeat 1s infinite;
    z-index: 1;
    text-align: center; /* å±…ä¸­æ–‡æœ¬ */
    cursor: pointer;  /* æ·»åŠ é¼ æ ‡æŒ‡é’ˆæ ·å¼ */
  }

  .heart-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 20px;
    color: #fff;
  }

  @keyframes heartbeat {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
    }
  }

  .small-heart {
    position: absolute;
    font-size: 50px; /* å¢å¤§æ³¡æ³¡å°ºå¯¸ */
    color: rgba(143, 188, 143, 0.8); /* è°ƒæ•´æ³¡æ³¡é¢œè‰²ä¸ºæµ…ç»¿ */
    animation: fly 4s ease-out;
    z-index: 0;
  }

  @keyframes fly {
    0% {
      top: 50%;
      left: 50%;
      transform: scale(0.5) translate(-50%, -50%);
    }
    100% {
      top: calc(50% + 300px * sin(var(--angle)));
      left: calc(50% + 300px * cos(var(--angle)));
      transform: scale(0.5) translate(-50%, -50%);
    }
  }

  .bubble {
    position: absolute;
    width: 20px;  /* å¢å¤§æ³¡æ³¡å°ºå¯¸ */
    height: 20px;  /* å¢å¤§æ³¡æ³¡å°ºå¯¸ */
    background-color: rgba(143, 188, 143, 0.7); /* è°ƒæ•´æ³¡æ³¡é¢œè‰²é€æ˜åº¦ */
    border-radius: 50%;
    animation: bubble 5s infinite;
  }

  @keyframes bubble {
    0% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(-100px) scale(1.5);
    }
    100% {
      transform: translateY(0) scale(1);
    }
  }

  .play-button {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 10px 20px;
    font-size: 20px;
    background-color: #008000;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    z-index: 3;
  }
  
  .marquee {
    position: absolute;
    top: 0;
    width: 1350px;
    font-size: 18px;
    color: #fff;
    background: linear-gradient(to right, transparent, #3cb93c, #00ff00, transparent);
    z-index: 4;
    overflow: hidden;
    white-space: nowrap;
    animation: marqueeScroll 20s linear infinite;
  }
  
  @keyframes marqueeScroll {
    0% {
      transform: translateX(100%);
    }
    100% {
      transform: translateX(-100%);
    }
  }
</style>
</head>
<body>
  <div class="marquee">
    èŒ¶æ ‘ä½œä¸ºæˆ‘å›½å—éƒ¨ä¸»è¦çš„ç»æµä½œç‰©ä¹‹ä¸€ï¼ŒèŒ¶å¶äº§é‡æ·±å—ç—…è™«å®³çš„å½±å“ã€‚æ™ºèƒ½åŒ–çš„å‘å±•ä¸ºå¤§å¹…æé«˜ç›‘æ§èŒ¶å¶å®³è™«å¤©æ•Œçš„æ•ˆç‡æä¾›äº†æ–°çš„æ€è·¯ï¼Œä½¿å†œä¸šçš„é˜²æ²»å˜å¾—æ›´åŠ å¯æ§ã€‚
  </div>
  <div class="heart" onclick="onClickHeart()">ğŸƒ<span class="heart-text">è¯·ç‚¹å‡»æˆ‘</span></div>
  <button class="play-button">æ’­æ”¾éŸ³ä¹</button>
  <script>
    const audio = new Audio('background_music.mp3');
    let isPlaying = false;
    let heartPositionX = 50;
    let heartPositionY = 50;
    let clickCount = 0;

    function playMusic() {
      audio.loop = true;
      audio.play();
      isPlaying = true;
    }

    function stopMusic() {
      audio.pause();
      audio.currentTime = 0;
      isPlaying = false;
    }

    function moveHeart(direction) {
      switch(direction) {
        case 'ArrowUp':
          heartPositionY -= 10;
          break;
        case 'ArrowDown':
          heartPositionY += 10;
          break;
        case 'ArrowLeft':
          heartPositionX -= 10;
          break;
        case 'ArrowRight':
          heartPositionX += 10;
          break;
      }
      document.querySelector('.heart').style.top = heartPositionY + '%';
      document.querySelector('.heart-text').innerHTML = 'è¯·ç‚¹å‡»æˆ‘'; // ä¿®æ”¹æ–‡æœ¬å†…å®¹
      document.querySelector('.heart').style.left = heartPositionX + '%';
    }

    function onClickHeart() {
      if (clickCount === 0) {
        playMusic();
      } else if (clickCount === 1) {
        window.location.href = 'new_page.html';
      }

      clickCount++;
    }

    document.querySelector('.play-button').addEventListener('click', function() {
      if (isPlaying) {
        stopMusic();
        this.textContent = 'æ’­æ”¾éŸ³ä¹';
      } else {
        playMusic();
        this.textContent = 'åœæ­¢éŸ³ä¹';
      }
    });

    document.addEventListener('mousemove', playMusic);

    document.addEventListener('keydown', function(event) {
      if (event.code === 'Space') {
        if (isPlaying) {
          stopMusic();
          document.querySelector('.play-button').textContent = 'æ’­æ”¾éŸ³ä¹';
        } else {
          playMusic();
          document.querySelector('.play-button').textContent = 'åœæ­¢éŸ³ä¹';
        }
      } else {
        moveHeart(event.code);
      }
    });

    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('small-heart');
      heart.innerHTML = 'â—‹'; // åœ†å½¢æ³¡æ³¡å›¾æ ‡
      heart.style.setProperty('--angle', Math.random() * 360 + 'deg');
      document.body.appendChild(heart);
      
      setTimeout(() => {
        heart.remove();
      }, 4000);
    }

    setInterval(createHeart, 20);

    function createBubble() {
      const bubble = document.createElement('div');
      bubble.classList.add('bubble');
      bubble.style.left = Math.random() * 100 + 'vw';
      document.body.appendChild(bubble);

      setTimeout(() => {
        bubble.remove();
      }, 5000);
    }

    setInterval(createBubble, 200);

  </script>
</body>
</html>
